{% load static %}
{% csrf_token %}
<!doctype html>


<html lang="en">
  <head>
  	<title>Login 05</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="{% static 'css/style1.css' %}">

	</head>
	<style>
		body {
			 background-image: url("{% static 'images/3.jpeg' %}");
			 background-size: cover;
			 background-repeat: no-repeat;
			 background-position: center;
			 font-family: Arial, sans-serif;
		 }
		 nav1 {
	background:white;
	width: 100%;
	height: 70px;
	overflow: hidden;
	
	z-index: 1000;
	position:fixed;
	top: 0;
	left: 0px;
}

.error {
            color: red;
            font-size:13px;
         
        }
.social{
	font-size:30px;
	padding:10px;
	margin-left:1060px;
    margin-top:-50px;
}
 </style>
 <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	 <script>
		 $(document).ready(function () {
			 var mod1=0;
			 var mod2=0;
			 var mod3=0;
			 var mod4=0;
			 var mod5=1;
			 var mod6=1;
			 $("#txt1").keyup(function () {
				 var n = document.getElementById("txt1");
				 var letter = /^[A-Za-z]+$/;
				 if (n.value == "") {
					 document.getElementById("text1").innerHTML = "<span class='error'>Please enter a valid name</span>";
					 mod1=1;
				 }
				 else if (!n.value.match(letter)) {
					 document.getElementById("text1").innerHTML = "<span class='error'>This is not a valid name. Please try again</span>";
					 mod1=1;
				 }
				 else if (n.value.match(letter)) {
					 document.getElementById("text1").innerHTML = "<span class='error'></span>";
					 mod1=0;
					 $('#register').attr("disabled", false);
					 $('#register').css("background","blue");
				 }
			 }),
				 $("#txt2").keyup(function () {
					 var n = document.getElementById("txt2");
					 var letter = /^[A-Za-z]+$/;
					 if (n.value == "") {
						 mod2=1;
						 document.getElementById("text2").innerHTML = "<span class='error'>Please enter a valid name</span>";
					 }
					 else if (!n.value.match(letter)) {
						 document.getElementById("text2").innerHTML = "<span class='error'>This is not a valid name. Please try again</span>";
						 mod2=1;
					 }
					 else if (n.value.match(letter)) {
						 document.getElementById("text2").innerHTML = "<span class='error'></span>";
						 mod2=0;
						 $('#register').attr("disabled", false);
					 $('#register').css("background","blue");
					 }
				 }),
				 $("#Email").keyup(function () {
					 var n = document.getElementById("Email");
					 p = /\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
					 if (n.value == "") {
						 document.getElementById("text3").innerHTML = "<span class='error'>Please enter a valid Email address</span>";
						 mod3=1;
					 }
					 else if (!n.value.match(p)) {
						 document.getElementById("text3").innerHTML = "<span class='error'>This is not a valid Email address. Please try again</span>";
						 mod3=1;
					 }
					 else if (n.value.match(p)) {
						 document.getElementById("text3").innerHTML = "<span class='error'></span>";
						 mod3=0;
						 $('#register').attr("disabled", false);
					 $('#register').css("background","blue");
					 }
				 }),
				 $("#phone1").keyup(function () {
					 var n = document.getElementById("phone1");
					 p = /([789][0-9]{9})+$/;
					 if (n.value == "") {
						 document.getElementById("text4").innerHTML = "<span class='error'>Please enter a valid phone number</span>";
						 mod4=1;
					 }
					 else if (!n.value.match(p)) {
						 document.getElementById("text4").innerHTML = "<span class='error'>This is not a valid phone number. Please try again</span>";
						 mod4=1;
					 }
					 else if (n.value.match(p)) {
						 document.getElementById("text4").innerHTML = "<span class='error'></span>";
						 mod4=0;
						 $('#register').attr("disabled", false);
					 $('#register').css("background","blue");
					 }
				 }),
 
				 $("#pass").keyup(function () {
					 var n6 = document.getElementById("pass");
					 var ps = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;
					 if (n6.value == "") {
						 document.getElementById("text5").innerHTML = "<span class='error'>Please enter a valid password</span>";
						 mod5=1;
 
					 }
					 if (!n6.value.match(ps)) {
						 document.getElementById("text5").innerHTML = "<span class='error'>This is not a valid Password.contains 1 special character ,1 Alphabet must</span>";
						 mod5=1;
					 }
					 else if (n6.value.match(ps)) {
						 document.getElementById("text5").innerHTML = "<span class='error'></span>";
						 mod5=0;
						 $('#register').attr("disabled", false);
					 $('#register').css("background","blue");
 
					 }
				 }),
				 $("#cpassword").keyup(function () {
					 var n7 = document.getElementById("pass");
					 var n8 = document.getElementById("cpassword");
					 if (n8.value == "") {
						 document.getElementById("text6").innerHTML = "<span class='error'>Please enter a valid password</span>";
						 mod6=1;
 
					 }
					 if (n7.value == n8.value) {
 
						 document.getElementById("text6").innerHTML = "<span class='error'></span>";
						 mod6=0;
						 $('#register').attr("disabled", false);
					 $('#register').css("background","blue");
 
					 }
					 else {
						 document.getElementById("text6").innerHTML = "<span class='error'> Password Missmatch</span>";
						 mod6=1;
 
					 }
				 }),
				 $("#register").click(function () {
					 if(mod5==1 ||mod6==1)
 {
	 $('#register').attr("disabled", true);
	 $('#register').css("background","lightblue");
 }
				 })
 
 
		 });
		 function fileValidation() {
			 var fileInput =
				 document.getElementById('inputfileupload');
			  
			 var filePath = fileInput.value;
		  
			 // Allowing file type
			 var allowedExtensions =
					 /(\.jpg|\.jpeg|\.png|\.gif)$/i;
			  
			 if (!allowedExtensions.exec(filePath)) {
			   
				 document.getElementById("text17").innerHTML = "<span class='error'>invalid file type</span>";
				 fileInput.value = '';
				 return false;
			 }
			 else
			 {
				 document.getElementById("text17").innerHTML = "<span class='error'></span>";
			 }
		 }
		</script>
	<body>
		<section class="ftco-section">
			<div style="margin-top:-100px">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-md-6 text-center mb-5">
						
					</div>
				</div>
				
							<div class="login-wrap p-4 p-lg-5">
						  <div class="d-flex">
							  <div class="w-100">
								  <h5 class="mb-4">Change Password</h5>
							  </div>
									<div class="w-100">
										<p class="social-media d-flex justify-content-end">
											<a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-facebook"></span></a>
											<a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-twitter"></span></a>
										</p>
									</div>
						  </div>
								<form action="{% url 'change_password' %}"method="post" class="signin-form">
									{% csrf_token %} 
							  <div class="form-group mb-3">
								  <label class="label" for="name1">Enter New Password</label>
								  <input type="text" class="form-control" id="pass"placeholder="Password"name="password" required>
								  <span id="text5"></span>
							  </div>
						<div class="form-group mb-3">
							<label class="label" for="password">Confirm Password</label>
						  <input type="text" class="form-control" placeholder="Confirm Password"id="cpassword"name="cpassword" required>
						  <span id="text6"></span>
						</div>
						<div class="form-group">
							<button type="submit" id="register" class="form-control btn btn-primary submit px-3">Submit</button>
						</div>
					
					  </form>
					</div>
				  </div>
					</div>
				</div>
			</div>
		</section>
	
		<script src="js/jquery.min.js"></script>
	  <script src="js/popper.js"></script>
	  <script src="js/bootstrap.min.js"></script>
	  <script src="js/main.js"></script>
	</div>
	<nav1>
		<div style="margin-left:60px;margin-top:5px"><i><font size="5"color="orange">Expert Homecare</font></i></div>  
		<div class="w-100">
			<div style="margin-top:-30px;margin-left:-60px;">
			<p class="social-media d-flex justify-content-end">
				<a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-instagram"></span></a>
				<a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-facebook"></span></a>
				<a href="#" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-twitter"></span></a>
			</p></div>
		</div>
		</nav>
		</body>
	</html>
	{% if error %}
    <p>{{ error }}</p>
{% endif %}